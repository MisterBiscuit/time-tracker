<mat-card>
  <mat-card-content>
    <div class="weekdays">
      @for (weekday of ['Mon','Tue','Wed','Thu','Fri','Sat','Sun']; track weekday) {
        <div>{{ weekday }}</div>
      }
    </div>

    <div class="grid">
      @for (day of days(); track day) {

        <div class="day" [class.selected]="day.iso === current()">
        @if (day.type === 'empty') {
          <div class="empty"></div>
        } @else if (day.type === 'off'; as offDay) {
          <div class="off small">
            {{ offDay.label }}
          </div>
        } @else if (day.type === 'worked'; as workedDay) {
          <div class="worked"
               [class.complete]="workedDay.logged >= workedDay.expected && workedDay.expected > 0"
               [class.missing]="workedDay.logged < workedDay.expected"
               (click)="selectDate(workedDay.iso)">

            <strong>{{ workedDay.day }}</strong>

            <div class="small">
              {{ workedDay.logged | duration }} / {{ workedDay.expected | duration }}
            </div>
          </div>
        }
        </div>
      }
    </div>
  </mat-card-content>
</mat-card>
